{
    "metadata": {
        "title": "Marcus,  Liverpool Lung Project Risk Prediction Model for Lung Cancer Incidence",
        "description": "Calculates lung cancer risk based off Liverpool predictive model. This model was created within a collection of lung cancer models including Spitz Model, Tammemagi Model, Park Model, Etzel Model, Hoggart Model, Cassidy Model, and Bach Model",
        "citations": [
            {
                "title": null,
                "at": null
            }
        ]
    },
    "inputMessage": "<rdf:RDF xmlns:ot=\"http://uofm.org/objectteller/#\"\n xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">\n  <rdf:Description rdf:about=\"http://uofm.org/objectteller/inputMessage\">\n    <ot:noofparams>7</ot:noofparams>\n    <ot:params>\n      <rdf:Seq>\n        <rdf:li>age</rdf:li>\n        <rdf:li>sex</rdf:li>\n        <rdf:li>smokDurat</rdf:li>\n        <rdf:li>copd</rdf:li>\n        <rdf:li>priorDiag</rdf:li>\n        <rdf:li>earlyOnset</rdf:li>\n        <rdf:li>lateOnset</rdf:li>\n      </rdf:Seq>\n    </ot:params>\n  </rdf:Description>\n  <rdf:Description rdf:about=\"http://uofm.org/objectteller/age/\">\n    <ot:datatype>INT</ot:datatype>\n  </rdf:Description>\n  <rdf:Description rdf:about=\"http://uofm.org/objectteller/sex/\">\n    <ot:datatype>INT</ot:datatype>\n  </rdf:Description>\n  <rdf:Description rdf:about=\"http://uofm.org/objectteller/smokDurat/\">\n      <ot:datatype>INT</ot:datatype>\n    </rdf:Description>\n    <rdf:Description rdf:about=\"http://uofm.org/objectteller/copd/\">\n      <ot:datatype>INT</ot:datatype>\n    </rdf:Description>\n    <rdf:Description rdf:about=\"http://uofm.org/objectteller/priorDiag/\">\n      <ot:datatype>INT</ot:datatype>\n    </rdf:Description>\n    <rdf:Description rdf:about=\"http://uofm.org/objectteller/earlyOnset/\">\n      <ot:datatype>INT</ot:datatype>\n    </rdf:Description>\n    <rdf:Description rdf:about=\"http://uofm.org/objectteller/lateOnset/\">\n      <ot:datatype>INT</ot:datatype>\n    </rdf:Description>\n</rdf:RDF>\n",
    "outputMessage": "<rdf:RDF xmlns:ot=\"http://uofm.org/objectteller/\"\n  xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">\n  <rdf:Description rdf:about=\"http://uofm.org/objectteller/outputMessage\">\n    <ot:returntype>MAP</ot:returntype>\n  </rdf:Description>\n</rdf:RDF>\n",
    "payload": {
        "content": "# Marcus, LLPi: Liverpool Lung Project Risk Prediction Model for Lung Cancer Incidence (Marcus, et al, 2015)\n# Created by: Kristen McGarry, KGrid\n# Last Updated: May 4th, 2017\n\nfrom math import exp\n\ndef execute(inputs):\n    covariates = {\"age\":0.036,\"sex\":0.391,\"smokDurat\":0.043,\"copd\":0.890,\"priorDiag\":1.044,\"earlyOnset\":0.521,\"lateOnset\":0.071}\n    covariates_mean = {\"age\":61.65,\"sex\":0.478,\"smokDurat\":19.42,\"copd\":0.185,\"priorDiag\":0.106,\"earlyOnset\":0.058,\"lateOnset\":0.129}\n\n    step_1 = 0\n    for covariate in covariates:\n        step_1 += covariates[covariate]* inputs[covariate]\n\n    step_2 = 0\n    for covariate in covariates:\n        step_2 += covariates[covariate] * covariates_mean[covariate]\n\n    total = (1- (0.9728386 ** (exp(step_1-step_2))))\n    #print total\n    percent = (total*100)\n    percent = round(percent,2)\n    #print type(percent)\n    #print percent\n\n    interpretation = \"This individual has a \" + str(percent) + \"% probability of developing lung cancer.\"\n    return {\"result\":percent,\"interpretation\":interpretation}\n\n\ndef test():\n    if execute({\"age\":50,\"sex\":1,\"smokDurat\":30,\"copd\":1,\"priorDiag\":0,\"earlyOnset\":0,\"lateOnset\":0}) != {'interpretation': 'This individual has a 6.03% probability of developing lung cancer.', 'result': 6.03}:\n        return \"error.\"\n    if execute({\"age\":70,\"sex\":0,\"smokDurat\":10,\"copd\":0,\"priorDiag\":0,\"earlyOnset\":0,\"lateOnset\":0}) != {'interpretation': 'This individual has a 1.49% probability of developing lung cancer.', 'result': 1.49}:\n        return \"error.\"\n    if execute({\"age\":10,\"sex\":0,\"smokDurat\":0,\"copd\":0,\"priorDiag\":0,\"earlyOnset\":0,\"lateOnset\":0}) != {'interpretation': 'This individual has a 0.11% probability of developing lung cancer.', 'result': 0.11}:\n        return \"error.\"\n    if execute({\"age\":0,\"sex\":0,\"smokDurat\":0,\"copd\":0,\"priorDiag\":0,\"earlyOnset\":0,\"lateOnset\":0}) != {'interpretation': 'This individual has a 0.08% probability of developing lung cancer.', 'result': 0.08}:\n        return \"error.\"\n    return \"ok.\"\n",
        "engineType": "Python",
        "functionName": "execute"
    },
    "url": "https://dlhs-fedora-dev.med.umich.edu/ObjectTeller/knowledgeObject/ark:/99999/fk4x92gk0r",
    "source": "user-generated"
}
