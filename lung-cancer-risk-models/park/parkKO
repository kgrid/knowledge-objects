{
    "metadata": {
        "title": "Park, Individualized Risk Prediction Model for Lung Cancer in Korean Men",
        "description": "Predicts an individuals lung cancer risk within 8 years. This predictor is targeted for Korean mean. This model was created within a collection of lung cancer models including Spitz Model, Tammemagi Model, Hoggart Model, Marcus Model, Etzel Model, Cassidy Model, and Bach Model.",
        "citations": [
            {
                "title": null,
                "at": null
            }
        ]
    },
    "inputMessage": "<rdf:RDF xmlns:ot=\"http://uofm.org/objectteller/#\"\n         xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">\n    <rdf:Description rdf:about=\"http://uofm.org/objectteller/inputMessage\">\n        <ot:noofparams>6</ot:noofparams>\n        <ot:params>\n            <rdf:Seq>\n                <rdf:li>age</rdf:li>\n                <rdf:li>smokerStatus</rdf:li>\n                <rdf:li>asi</rdf:li>\n                <rdf:li>bmi</rdf:li>\n                <rdf:li>physActiv</rdf:li>\n                <rdf:li>fastingGluc</rdf:li>\n            </rdf:Seq>\n        </ot:params>\n    </rdf:Description>\n    <rdf:Description rdf:about=\"http://uofm.org/objectteller/age/\">\n        <ot:datatype>INT</ot:datatype>\n        <ot:min>0</ot:min>\n    </rdf:Description>\n    <rdf:Description rdf:about=\"http://uofm.org/objectteller/smokerStatus/\">\n        <ot:datatype>INT</ot:datatype>\n        <ot:min>0</ot:min>\n        <ot:max>3</ot:max>\n    </rdf:Description>\n    <rdf:Description rdf:about=\"http://uofm.org/objectteller/asi/\">\n        <ot:datatype>INT</ot:datatype>\n        <ot:min>0</ot:min>\n        <ot:max>3</ot:max>\n    </rdf:Description>\n    <rdf:Description rdf:about=\"http://uofm.org/objectteller/bmi/\">\n        <ot:datatype>INT</ot:datatype>\n        <ot:min>0</ot:min>\n        <ot:max>2</ot:max>\n    </rdf:Description>\n    <rdf:Description rdf:about=\"http://uofm.org/objectteller/physActiv/\">\n        <ot:datatype>INT</ot:datatype>\n        <ot:min>0</ot:min>\n        <ot:max>2</ot:max>\n    </rdf:Description>\n    <rdf:Description rdf:about=\"http://uofm.org/objectteller/fastingGluc/\">\n        <ot:datatype>INT</ot:datatype>\n        <ot:min>0</ot:min>\n        <ot:max>1</ot:max>\n    </rdf:Description>\n</rdf:RDF>\n",
    "outputMessage": "<rdf:RDF xmlns:ot=\"http://uofm.org/objectteller/\" xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">\n<rdf:Description rdf:about=\"http://uofm.org/objectteller/outputMessage\">\n    <ot:returntype>MAP</ot:returntype>\n</rdf:Description>\n</rdf:RDF>\n",
    "payload": {
        "content": "# Park, Individualized Risk Prediction Model for Lung Cancer in Korean Men\n# Author: Kristen McGarry\n# Last Updated: May 2, 2017\nfrom math import exp\n\ndef execute(inputs):\n    age = inputs[\"age\"]\n    smokerStatus = inputs[\"smokerStatus\"]\n    asi = inputs[\"asi\"]\n    bmi = inputs[\"bmi\"]\n    physActiv = inputs[\"physActiv\"]\n    fastingGluc = inputs[\"fastingGluc\"]\n\n    # Predicting the probability of developing lung cancer within 8 years; equation on page 4\n    A = calcA(age,smokerStatus,asi,bmi,physActiv,fastingGluc)\n    E = exp(A)\n    # for 8 years...\n    P = 1-(0.9983894078**E)\n    P_percent = round((P*100),2)\n    interpretation =\"This individual has a \" +str(P_percent) +\"% probability of developing lung cancer within 8 years.\"\n    return {\"result\":P_percent,\"interpretation\":interpretation}\n\n\ndef calcA(age,smokerStatus,asi,bmi,physActiv,fastingGluc):\n    meanAge = 45\n    ageSq = (age-meanAge)**2\n    ageA = (0.1668*((age-meanAge)-0)) -(0.0020*(ageSq-107.3007))\n\n    binValues = []\n    smokerTemp = [0,0,0,0]\n    if smokerStatus != 0:\n        smokerTemp[smokerStatus-1] = 1\n\n    asiTemp = [0,0,0,0]\n    if asi != 0:\n        asiTemp[asi-1] = 1\n\n    bmiTemp = [0,0,0]\n    if bmi != 0:\n        bmiTemp[bmi-1] = 1\n\n    phaTemp = [0,0,0]\n    if physActiv != 0:\n        phaTemp[physActiv-1] = 1\n\n    if fastingGluc == 1:\n        gluTemp = [1]\n    else:\n        gluTemp = [0]\n\n    # order = smoker status, asi, bmi, pha, glu\n    # binValues = binary values\n    binValues = smokerTemp + asiTemp + bmiTemp + phaTemp + gluTemp\n    A = ageA  + (0.4180*((binValues[0]) - 0.1511))  + (0.4444*((binValues[1]) - 0.0905)) + (0.9414*((binValues[2]) - 0.3330)) + (1.3889*((binValues[3]) - 0.1390))  + (0.2194*((binValues[4]) - 0.1441)) + (0.2809*((binValues[5]) - 0.3570)) + (0.5249*((binValues[6]) - 0.0164)) + (0.7120*((binValues[7]) - 0.0064)) + (0.3306*((binValues[8]) - 0.0239))  - (0.2468*((binValues[9]) - 0.2837)) - (0.3386*((binValues[10]) - 0.2851)) - (0.0909*((binValues[11]) - 0.1590)) - (0.1412*((binValues[12]) -0.2952))-(0.0521*((binValues[13]) - 0.0676))+(0.0792*(((binValues[14]) - 0.0605)))\n\n    return A\n\ndef test():\n    if execute({\"age\":50,\"smokerStatus\":3,\"asi\":1,\"bmi\":2,\"physActiv\":1,\"fastingGluc\":1}) != {'interpretation': 'This individual has a 0.63% probability of developing lung cancer within 8 years.', 'result': 0.63}:\n        return \"error.\"\n    if execute({\"age\":0,\"smokerStatus\":0,\"asi\":0,\"bmi\":0,\"physActiv\":0,\"fastingGluc\":0}) != {'interpretation': 'This individual has a 0.0% probability of developing lung cancer within 8 years.', 'result': 0.0}:\n        return \"error.\"\n    else:\n        return \"ok.\"\n",
        "engineType": "Python",
        "functionName": "execute"
    },
    "url": "https://dlhs-fedora-dev.med.umich.edu/ObjectTeller/knowledgeObject/ark:/99999/fk4r49xd2g",
    "source": "user-generated"
}
